{% extends "base.html" %}
{% block content %}
    <head>
         <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
        <script src="{{url_for('static', filename='js/like_button.js')}}"></script>
        <script src="{{url_for('static', filename='js/read_more_toggle.js')}}"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
         <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>




        <title>Index</title>
        <style>
            img.resize {
                width : 30px;
                height: 30px;
                border-radius: 50%;
                position: relative;
                margin-right: 5px;
                margin-left: 5px;
            }
            a{
                color: #00000030;
            }
            .heart i.fa-heart{
                color: #f44336;
            }
            .heart{
                animation: heart 05s linear;
            }
            @keyframes heart{
                0% {
                    transform: rotate(0deg) scale(1.7);
                }
                40%{
                    transform: rotate(0deg) scale(1);
                }
                41%{
                    transform: rotate(360deg) scale(1);
                }
                100%{
                    transform: rotate(0deg) scale(1);
                }
            }
        </style>
</head>
<body>
    <section class="container_index">
        {% for post in user['posts']  %}
        <div class="card_index">
                <img class="resize" src="https://images.unsplash.com/photo-1513721032312-6a18a42c8763?w=152&h=152&fit=crop&crop=faces"/>
            <div class="profile-info">
                <div class="name">David</div>
                <div class="location">Toronto</div>
            </div>
            <div class ="time">1hr</div>
            <div class="image">
                <img style='height: auto; width: 100%; object-fit: contain' src={{ post['image_source'] }}/>
            </div>
            <div class = "card-footer">
                <div>
                    <span id="post{{ post.post_id }}">
                        <button class="likes">
                            <i class="fa fa-heart" aria-hidden="true" ></i>
                        </button>
                        <div class = "name"> {{ post.likes }} likes </div>
                    </span>
                </div>
                <div class="description">
                    <p>
                        <span>This is wonderful world to live in</span>
                    </p>
                </div>
                <div class="comments" id="comments{{ post.post_id }}">
                    <p>
                        <span class="username">Frank</span>:
                        <span>This is so good,This is so good,This is so good,This is so good,This is so good,This is so good,This is so good,T
                            his is so good,This is so good,This is so good,This is so good,This is so good,
                            This is so good,This is so good,This is so good,This is so good,This is so good,This is so good,</span>
                    </p>
                    <p>
                        <span class="username">Alex</span>:
                        <span>This is damn good</span>
                    </p>
                </div>
                <div class="view-btn-container">
                    <button class="btn" id="btn{{ post.post_id }}" onclick = "read_more('comments{{ post.post_id }}' , 'btn{{ post.post_id }}')">Read Less</button>
                </div>
                <hr/>
                    <div class="add-comment">
                        <img class="resize" src="https://cdn1.dotesports.com/wp-content/uploads/2019/10/23101633/shockblade-zed.jpg"/>
                        <input type="text" placeholder="add comment" />
                    </div>
            </div>
        </div>
        {% endfor %}
    </section>

</body>

{% endblock %}